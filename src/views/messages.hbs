<h1 class="text-4xl text-center mt-2">Lista de mensajes con websocket</h1>
<div class="flex justify-evenly align-center">
  <div class="w-1/3">
    <form action="/api/messages/add" method="post" class="w-full m-3">
      <fieldset class="w-full border border-slate-900 rounded-md flex flex-col items-center p-5 gap-2">
        <legend class="text-2xl">Añadir mensajes</legend>
        <section class="w-full border border-slate-900 rounded-md flex flex-col p-5 gap-2">
          <h2 class="text-2xl text-center mb-10 border-b-2 border-gray-500">Campos a completar</h2>
          <section>
            <label for="email" class="flex justify-between items-center uppercase font-bold">Email
              <input id="email" type="email" name="email" placeholder="example: test@gmail.com" class="w-2/3 px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400
              focus:outline-none focus:border-sky-700 focus:ring-1 focus:ring-sky-700
              ">
            </label>
          </section>
          <section>
            <label for="description" class="flex justify-between items-center uppercase font-bold">descripción
              <textarea id="description" type="description" name="description" placeholder="example: descripton..."
                class="w-2/3 px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400
              focus:outline-none focus:border-sky-700 focus:ring-1 focus:ring-sky-700
              "></textarea>
            </label>
          </section>

        </section>

        <button onclick="location.href='/messages-form'"
          class="text-center text-white border border-slate-300 rounded-md w-full px-5 py-2 bg-slate-900 cursor-pointer hover:bg-slate-600 duration-300">
          Enviar
        </button>
      </fieldset>
    </form>
  </div>

  <div id="listProducts" class="w-80 mt-8 rounded m-auto p-4 bg-slate-200 flex flex-wrap justify-center gap-4">
    <h1 class="font-bold text-2xl text-center">Lista de mensajes</h1>
    {{#each messages}}
    <div class="flex flex-wrap border-2 rounded-md p-4 mt-4 bg-sky-300">
      <ul>
        <li><span class="uppercase font-bold">email:</span> {{email}}</li>
        <li><span class="uppercase font-bold">descripcion:</span> {{description}}</li>
      </ul>


      <a class="inline-block text-white text-center w-full h-14 border border-2 rounded-md p-2 pt-3 duration-300 bg-slate-900 hover:bg-slate-600"
        href="/messages/{{ _id }}">Actualizar</a>


      <form class="w-full" action="/api/messages/{{_id}}?_method=DELETE" method="POST">
        <input type="hidden" name="_method" value="DELETE">
        <button type="submit"
          class="inline-block text-white text-center w-full h-14 border border-2 rounded-md p-2 pt-3 duration-300 bg-slate-900 hover:bg-slate-600">Eliminar</button>
      </form>

    </div>
    {{/each}}
  </div>
</div>